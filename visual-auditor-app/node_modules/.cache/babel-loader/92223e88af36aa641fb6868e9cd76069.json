{"ast":null,"code":"var _jsxFileName = \"/Users/davidmunechika/Documents/Code/Research/visual-auditor/visual-auditor-app/src/components/Main/Main.js\";\nimport React, { memo } from 'react';\nimport SliceBarChart from './SliceBarChart';\nimport './Main.css';\nimport ForceLayout from './ForceLayout';\nimport GraphLayout from './GraphLayout';\nimport logloss from '../../data/logloss.json';\nimport accuracy from '../../data/accuracy.json';\nimport precision from '../../data/precision.json';\nimport recall from '../../data/recall.json';\nimport f1 from '../../data/f1.json';\nimport reverselogloss from '../../data/reverselogloss.json';\nimport reverseaccuracy from '../../data/reverseaccuracy.json';\nimport reverseprecision from '../../data/reverseprecision.json';\nimport reverserecall from '../../data/reverserecall.json';\nimport reversef1 from '../../data/reversef1.json';\nimport logloss_sliceline from '../../data/logloss_sliceline.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = ({\n  numFeatures,\n  sampleSize,\n  metric,\n  view,\n  sortBy,\n  overperforming,\n  features,\n  radius,\n  edgeFiltering,\n  edgeForce,\n  setDetails,\n  cursorMode,\n  algorithm,\n  setShowConvexHull\n}) => {\n  let data;\n  let reversedata;\n  let modelMetric;\n\n  if (overperforming) {\n    switch (metric) {\n      case 'Log Loss':\n        data = Object.values(reverselogloss['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(logloss['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = reverselogloss['model'];\n        break;\n\n      case 'Accuracy':\n        data = Object.values(reverseaccuracy['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(accuracy['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = reverseaccuracy['model'];\n        break;\n\n      case 'Precision':\n        data = Object.values(reverseprecision['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(precision['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = reverseprecision['model'];\n        break;\n\n      case 'Recall':\n        data = Object.values(reverserecall['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(recall['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = reverserecall['model'];\n        break;\n\n      case 'F1':\n        data = Object.values(reversef1['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(f1['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = reversef1['model'];\n        break;\n\n      default:\n        data = Object.values(reverselogloss['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(logloss['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = reverselogloss['model'];\n    }\n  } else {\n    switch (metric) {\n      case 'Log Loss':\n        data = Object.values(algorithm === 'slicefinder' ? logloss['data'] : logloss_sliceline['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(reverselogloss['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = algorithm === 'slicefinder' ? logloss['model'] : logloss_sliceline['model'];\n        break;\n\n      case 'Accuracy':\n        data = Object.values(accuracy['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(reverseaccuracy['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = accuracy['model'];\n        break;\n\n      case 'Precision':\n        data = Object.values(precision['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(reverseprecision['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = precision['model'];\n        break;\n\n      case 'Recall':\n        data = Object.values(recall['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(reverserecall['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = recall['model'];\n        break;\n\n      case 'F1':\n        data = Object.values(f1['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(reversef1['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = f1['model'];\n        break;\n\n      default:\n        data = Object.values(logloss['data']).map(obj => Object.values(obj)[0]);\n        reversedata = Object.values(reverselogloss['data']).map(obj => Object.values(obj)[0]);\n        modelMetric = logloss['model'];\n    }\n  }\n\n  const metricArray = data.map(obj => obj.metric);\n  const reverseMetricArray = reversedata.map(obj => obj.metric);\n  const max = Math.max(...metricArray, ...reverseMetricArray, modelMetric);\n  let filteredData = data.filter(obj => {\n    let sliceStr = obj.slice;\n\n    while (sliceStr.includes(':')) {\n      if (features.includes(sliceStr.substring(0, sliceStr.indexOf(':')))) {\n        return true;\n      }\n\n      sliceStr = sliceStr.substring(sliceStr.indexOf(':') + 1);\n    }\n\n    return false;\n  }).filter(obj => obj.size >= sampleSize).filter(obj => obj.degree <= numFeatures).sort(function (a, b) {\n    if (sortBy === 'size') return b.size - a.size;\n\n    if (metric === 'Log Loss') {\n      if (overperforming) return a.metric - b.metric;\n      return b.metric - a.metric;\n    } else {\n      if (overperforming) return b.metric - a.metric;\n      return a.metric - b.metric;\n    }\n  });\n\n  if (view === 'bar') {\n    filteredData = filteredData.slice(0, 10);\n  } else {\n    filteredData = filteredData.slice(0, 100);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    style: {\n      display: 'block',\n      margin: 'auto',\n      width: '75%'\n    },\n    children: view === 'bar' ? /*#__PURE__*/_jsxDEV(SliceBarChart, {\n      data: filteredData,\n      model: modelMetric,\n      max: max,\n      view: view,\n      overperforming: overperforming,\n      metric: metric,\n      setDetails: setDetails\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }, this) : view === 'force' ? /*#__PURE__*/_jsxDEV(ForceLayout, {\n      data: filteredData,\n      degree: numFeatures,\n      view: view,\n      metric: metric,\n      model: modelMetric,\n      overperforming: overperforming,\n      setDetails: setDetails,\n      radius: radius,\n      setShowConvexHull: setShowConvexHull\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(GraphLayout, {\n      data: filteredData,\n      degree: numFeatures,\n      metric: metric,\n      model: modelMetric,\n      overperforming: overperforming,\n      radiusType: radius,\n      edgeFiltering: edgeFiltering,\n      edgeForce: edgeForce,\n      setDetails: setDetails,\n      cursorMode: cursorMode,\n      algorithm: algorithm,\n      setShowConvexHull: setShowConvexHull\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Main;\nexport default _c2 = /*#__PURE__*/memo(Main);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Main\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/davidmunechika/Documents/Code/Research/visual-auditor/visual-auditor-app/src/components/Main/Main.js"],"names":["React","memo","SliceBarChart","ForceLayout","GraphLayout","logloss","accuracy","precision","recall","f1","reverselogloss","reverseaccuracy","reverseprecision","reverserecall","reversef1","logloss_sliceline","Main","numFeatures","sampleSize","metric","view","sortBy","overperforming","features","radius","edgeFiltering","edgeForce","setDetails","cursorMode","algorithm","setShowConvexHull","data","reversedata","modelMetric","Object","values","map","obj","metricArray","reverseMetricArray","max","Math","filteredData","filter","sliceStr","slice","includes","substring","indexOf","size","degree","sort","a","b","display","margin","width"],"mappings":"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","sourcesContent":["import React, { memo } from 'react';\nimport SliceBarChart from './SliceBarChart';\nimport './Main.css';\nimport ForceLayout from './ForceLayout';\nimport GraphLayout from './GraphLayout';\n\nimport logloss from '../../data/logloss.json';\nimport accuracy from '../../data/accuracy.json';\nimport precision from '../../data/precision.json';\nimport recall from '../../data/recall.json';\nimport f1 from '../../data/f1.json';\nimport reverselogloss from '../../data/reverselogloss.json';\nimport reverseaccuracy from '../../data/reverseaccuracy.json';\nimport reverseprecision from '../../data/reverseprecision.json';\nimport reverserecall from '../../data/reverserecall.json';\nimport reversef1 from '../../data/reversef1.json';\nimport logloss_sliceline from '../../data/logloss_sliceline.json';\n\nconst Main = ({\n  numFeatures,\n  sampleSize,\n  metric,\n  view,\n  sortBy,\n  overperforming,\n  features,\n  radius,\n  edgeFiltering,\n  edgeForce,\n  setDetails,\n  cursorMode,\n  algorithm,\n  setShowConvexHull,\n}) => {\n  let data;\n  let reversedata;\n  let modelMetric;\n  if (overperforming) {\n    switch (metric) {\n      case 'Log Loss':\n        data = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(logloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverselogloss['model'];\n        break;\n      case 'Accuracy':\n        data = Object.values(reverseaccuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(accuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverseaccuracy['model'];\n        break;\n      case 'Precision':\n        data = Object.values(reverseprecision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(precision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverseprecision['model'];\n        break;\n      case 'Recall':\n        data = Object.values(reverserecall['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(recall['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverserecall['model'];\n        break;\n      case 'F1':\n        data = Object.values(reversef1['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(f1['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reversef1['model'];\n        break;\n      default:\n        data = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(logloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverselogloss['model'];\n    }\n  } else {\n    switch (metric) {\n      case 'Log Loss':\n        data = Object.values(\n          algorithm === 'slicefinder'\n            ? logloss['data']\n            : logloss_sliceline['data']\n        ).map((obj) => Object.values(obj)[0]);\n        reversedata = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric =\n          algorithm === 'slicefinder'\n            ? logloss['model']\n            : logloss_sliceline['model'];\n        break;\n      case 'Accuracy':\n        data = Object.values(accuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(reverseaccuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = accuracy['model'];\n        break;\n      case 'Precision':\n        data = Object.values(precision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(reverseprecision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = precision['model'];\n        break;\n      case 'Recall':\n        data = Object.values(recall['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(reverserecall['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = recall['model'];\n        break;\n      case 'F1':\n        data = Object.values(f1['data']).map((obj) => Object.values(obj)[0]);\n        reversedata = Object.values(reversef1['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = f1['model'];\n        break;\n      default:\n        data = Object.values(logloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = logloss['model'];\n    }\n  }\n  const metricArray = data.map((obj) => obj.metric);\n  const reverseMetricArray = reversedata.map((obj) => obj.metric);\n  const max = Math.max(...metricArray, ...reverseMetricArray, modelMetric);\n  let filteredData = data\n    .filter((obj) => {\n      let sliceStr = obj.slice;\n      while (sliceStr.includes(':')) {\n        if (features.includes(sliceStr.substring(0, sliceStr.indexOf(':')))) {\n          return true;\n        }\n        sliceStr = sliceStr.substring(sliceStr.indexOf(':') + 1);\n      }\n      return false;\n    })\n    .filter((obj) => obj.size >= sampleSize)\n    .filter((obj) => obj.degree <= numFeatures)\n    .sort(function (a, b) {\n      if (sortBy === 'size') return b.size - a.size;\n      if (metric === 'Log Loss') {\n        if (overperforming) return a.metric - b.metric;\n        return b.metric - a.metric;\n      } else {\n        if (overperforming) return b.metric - a.metric;\n        return a.metric - b.metric;\n      }\n    });\n  if (view === 'bar') {\n    filteredData = filteredData.slice(0, 10);\n  } else {\n    filteredData = filteredData.slice(0, 100);\n  }\n  return (\n    <div className='main-container' style={{ display: 'block', margin: 'auto', width: '75%' }}>\n      {view === 'bar' ? (\n        <SliceBarChart\n          data={filteredData}\n          model={modelMetric}\n          max={max}\n          view={view}\n          overperforming={overperforming}\n          metric={metric}\n          setDetails={setDetails}\n        />\n      ) : view === 'force' ? (\n        <ForceLayout\n          data={filteredData}\n          degree={numFeatures}\n          view={view}\n          metric={metric}\n          model={modelMetric}\n          overperforming={overperforming}\n          setDetails={setDetails}\n          radius={radius}\n          setShowConvexHull={setShowConvexHull}\n        />\n      ) : (\n        <GraphLayout\n          data={filteredData}\n          degree={numFeatures}\n          metric={metric}\n          model={modelMetric}\n          overperforming={overperforming}\n          radiusType={radius}\n          edgeFiltering={edgeFiltering}\n          edgeForce={edgeForce}\n          setDetails={setDetails}\n          cursorMode={cursorMode}\n          algorithm={algorithm}\n          setShowConvexHull={setShowConvexHull}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default memo(Main);\n"]},"metadata":{},"sourceType":"module"}
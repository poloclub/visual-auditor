{"ast":null,"code":"import _toConsumableArray from\"/Users/davidmunechika/Documents/Code/visual-auditor/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import SliceBarChart from'./SliceBarChart';import'./Main.css';import ForceLayout from'./ForceLayout';import GraphLayout from'./GraphLayout';import logloss from'../../data/logloss.json';import accuracy from'../../data/accuracy.json';import precision from'../../data/precision.json';import recall from'../../data/recall.json';import f1 from'../../data/f1.json';import reverselogloss from'../../data/reverselogloss.json';import reverseaccuracy from'../../data/reverseaccuracy.json';import reverseprecision from'../../data/reverseprecision.json';import reverserecall from'../../data/reverserecall.json';import reversef1 from'../../data/reversef1.json';import logloss_sliceline from'../../data/logloss_sliceline.json';import{jsx as _jsx}from\"react/jsx-runtime\";var Main=function Main(_ref){var numFeatures=_ref.numFeatures,sampleSize=_ref.sampleSize,metric=_ref.metric,view=_ref.view,sortBy=_ref.sortBy,overperforming=_ref.overperforming,features=_ref.features,radius=_ref.radius,edgeFiltering=_ref.edgeFiltering,edgeForce=_ref.edgeForce,setDetails=_ref.setDetails,cursorMode=_ref.cursorMode,algorithm=_ref.algorithm,showConvexHull=_ref.showConvexHull;var data;var reversedata;var modelMetric;if(overperforming){switch(metric){case'Log Loss':data=Object.values(reverselogloss['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(logloss['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=reverselogloss['model'];break;case'Accuracy':data=Object.values(reverseaccuracy['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(accuracy['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=reverseaccuracy['model'];break;case'Precision':data=Object.values(reverseprecision['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(precision['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=reverseprecision['model'];break;case'Recall':data=Object.values(reverserecall['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(recall['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=reverserecall['model'];break;case'F1':data=Object.values(reversef1['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(f1['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=reversef1['model'];break;default:data=Object.values(reverselogloss['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(logloss['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=reverselogloss['model'];}}else{switch(metric){case'Log Loss':data=Object.values(algorithm==='slicefinder'?logloss['data']:logloss_sliceline['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(reverselogloss['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=algorithm==='slicefinder'?logloss['model']:logloss_sliceline['model'];break;case'Accuracy':data=Object.values(accuracy['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(reverseaccuracy['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=accuracy['model'];break;case'Precision':data=Object.values(precision['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(reverseprecision['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=precision['model'];break;case'Recall':data=Object.values(recall['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(reverserecall['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=recall['model'];break;case'F1':data=Object.values(f1['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(reversef1['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=f1['model'];break;default:data=Object.values(logloss['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(reverselogloss['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=logloss['model'];}}var metricArray=data.map(function(obj){return obj.metric;});var reverseMetricArray=reversedata.map(function(obj){return obj.metric;});var max=Math.max.apply(Math,_toConsumableArray(metricArray).concat(_toConsumableArray(reverseMetricArray),[modelMetric]));var filteredData=data.filter(function(obj){var sliceStr=obj.slice;while(sliceStr.includes(':')){if(features.includes(sliceStr.substring(0,sliceStr.indexOf(':')))){return true;}sliceStr=sliceStr.substring(sliceStr.indexOf(':')+1);}return false;}).filter(function(obj){return obj.size>=sampleSize;}).filter(function(obj){return obj.degree<=numFeatures;}).sort(function(a,b){if(sortBy==='size')return b.size-a.size;if(metric==='Log Loss'){if(overperforming)return a.metric-b.metric;return b.metric-a.metric;}else{if(overperforming)return b.metric-a.metric;return a.metric-b.metric;}});console.log(filteredData);if(view==='bar'){filteredData=filteredData.slice(0,10);}else{filteredData=filteredData.slice(0,100);}return/*#__PURE__*/_jsx(\"div\",{className:\"main-container\",style:{display:'block'},children:view==='bar'?/*#__PURE__*/_jsx(SliceBarChart,{data:filteredData,model:modelMetric,max:max,view:view,overperforming:overperforming,metric:metric,setDetails:setDetails}):view==='force'?/*#__PURE__*/_jsx(ForceLayout,{data:filteredData,degree:numFeatures,view:view,metric:metric,model:modelMetric,overperforming:overperforming,setDetails:setDetails,radius:radius,showConvexHull:showConvexHull}):/*#__PURE__*/_jsx(GraphLayout,{data:filteredData,degree:numFeatures,metric:metric,model:modelMetric,overperforming:overperforming,radiusType:radius,edgeFiltering:edgeFiltering,edgeForce:edgeForce,setDetails:setDetails,cursorMode:cursorMode,algorithm:algorithm,showConvexHull:showConvexHull})});};export default Main;","map":{"version":3,"sources":["/Users/davidmunechika/Documents/Code/visual-auditor/src/components/Main/Main.js"],"names":["React","SliceBarChart","ForceLayout","GraphLayout","logloss","accuracy","precision","recall","f1","reverselogloss","reverseaccuracy","reverseprecision","reverserecall","reversef1","logloss_sliceline","Main","numFeatures","sampleSize","metric","view","sortBy","overperforming","features","radius","edgeFiltering","edgeForce","setDetails","cursorMode","algorithm","showConvexHull","data","reversedata","modelMetric","Object","values","map","obj","metricArray","reverseMetricArray","max","Math","filteredData","filter","sliceStr","slice","includes","substring","indexOf","size","degree","sort","a","b","console","log","display"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SliceBarChart from './SliceBarChart';\nimport './Main.css';\nimport ForceLayout from './ForceLayout';\nimport GraphLayout from './GraphLayout';\n\nimport logloss from '../../data/logloss.json';\nimport accuracy from '../../data/accuracy.json';\nimport precision from '../../data/precision.json';\nimport recall from '../../data/recall.json';\nimport f1 from '../../data/f1.json';\nimport reverselogloss from '../../data/reverselogloss.json';\nimport reverseaccuracy from '../../data/reverseaccuracy.json';\nimport reverseprecision from '../../data/reverseprecision.json';\nimport reverserecall from '../../data/reverserecall.json';\nimport reversef1 from '../../data/reversef1.json';\nimport logloss_sliceline from '../../data/logloss_sliceline.json';\n\nconst Main = ({\n  numFeatures,\n  sampleSize,\n  metric,\n  view,\n  sortBy,\n  overperforming,\n  features,\n  radius,\n  edgeFiltering,\n  edgeForce,\n  setDetails,\n  cursorMode,\n  algorithm,\n  showConvexHull,\n}) => {\n  let data;\n  let reversedata;\n  let modelMetric;\n  if (overperforming) {\n    switch (metric) {\n      case 'Log Loss':\n        data = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(logloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverselogloss['model'];\n        break;\n      case 'Accuracy':\n        data = Object.values(reverseaccuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(accuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverseaccuracy['model'];\n        break;\n      case 'Precision':\n        data = Object.values(reverseprecision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(precision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverseprecision['model'];\n        break;\n      case 'Recall':\n        data = Object.values(reverserecall['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(recall['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverserecall['model'];\n        break;\n      case 'F1':\n        data = Object.values(reversef1['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(f1['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reversef1['model'];\n        break;\n      default:\n        data = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(logloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverselogloss['model'];\n    }\n  } else {\n    switch (metric) {\n      case 'Log Loss':\n        data = Object.values(\n          algorithm === 'slicefinder'\n            ? logloss['data']\n            : logloss_sliceline['data']\n        ).map((obj) => Object.values(obj)[0]);\n        reversedata = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric =\n          algorithm === 'slicefinder'\n            ? logloss['model']\n            : logloss_sliceline['model'];\n        break;\n      case 'Accuracy':\n        data = Object.values(accuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(reverseaccuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = accuracy['model'];\n        break;\n      case 'Precision':\n        data = Object.values(precision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(reverseprecision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = precision['model'];\n        break;\n      case 'Recall':\n        data = Object.values(recall['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(reverserecall['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = recall['model'];\n        break;\n      case 'F1':\n        data = Object.values(f1['data']).map((obj) => Object.values(obj)[0]);\n        reversedata = Object.values(reversef1['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = f1['model'];\n        break;\n      default:\n        data = Object.values(logloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = logloss['model'];\n    }\n  }\n  const metricArray = data.map((obj) => obj.metric);\n  const reverseMetricArray = reversedata.map((obj) => obj.metric);\n  const max = Math.max(...metricArray, ...reverseMetricArray, modelMetric);\n  let filteredData = data\n    .filter((obj) => {\n      let sliceStr = obj.slice;\n      while (sliceStr.includes(':')) {\n        if (features.includes(sliceStr.substring(0, sliceStr.indexOf(':')))) {\n          return true;\n        }\n        sliceStr = sliceStr.substring(sliceStr.indexOf(':') + 1);\n      }\n      return false;\n    })\n    .filter((obj) => obj.size >= sampleSize)\n    .filter((obj) => obj.degree <= numFeatures)\n    .sort(function (a, b) {\n      if (sortBy === 'size') return b.size - a.size;\n      if (metric === 'Log Loss') {\n        if (overperforming) return a.metric - b.metric;\n        return b.metric - a.metric;\n      } else {\n        if (overperforming) return b.metric - a.metric;\n        return a.metric - b.metric;\n      }\n    });\n  console.log(filteredData);\n  if (view === 'bar') {\n    filteredData = filteredData.slice(0, 10);\n  } else {\n    filteredData = filteredData.slice(0, 100);\n  }\n  return (\n    <div className='main-container' style={{ display: 'block' }}>\n      {view === 'bar' ? (\n        <SliceBarChart\n          data={filteredData}\n          model={modelMetric}\n          max={max}\n          view={view}\n          overperforming={overperforming}\n          metric={metric}\n          setDetails={setDetails}\n        />\n      ) : view === 'force' ? (\n        <ForceLayout\n          data={filteredData}\n          degree={numFeatures}\n          view={view}\n          metric={metric}\n          model={modelMetric}\n          overperforming={overperforming}\n          setDetails={setDetails}\n          radius={radius}\n          showConvexHull={showConvexHull}\n        />\n      ) : (\n        <GraphLayout\n          data={filteredData}\n          degree={numFeatures}\n          metric={metric}\n          model={modelMetric}\n          overperforming={overperforming}\n          radiusType={radius}\n          edgeFiltering={edgeFiltering}\n          edgeForce={edgeForce}\n          setDetails={setDetails}\n          cursorMode={cursorMode}\n          algorithm={algorithm}\n          showConvexHull={showConvexHull}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}
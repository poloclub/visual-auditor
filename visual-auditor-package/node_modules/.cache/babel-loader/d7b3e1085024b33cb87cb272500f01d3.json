{"ast":null,"code":"import _toConsumableArray from\"/Users/davidmunechika/Documents/Code/visual-auditor/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import SliceBarChart from'./SliceBarChart';import'./Main.css';import logloss from'../../data/logloss.json';import accuracy from'../../data/accuracy.json';import precision from'../../data/precision.json';import reverselogloss from'../../data/reverselogloss.json';import ForceLayout from'./ForceLayout';import GraphLayout from'./GraphLayout';import GraphLayout2 from'./GraphLayout2';import{jsx as _jsx}from\"react/jsx-runtime\";var Main=function Main(_ref){var numFeatures=_ref.numFeatures,sampleSize=_ref.sampleSize,metric=_ref.metric,view=_ref.view,sortBy=_ref.sortBy,overperforming=_ref.overperforming;var data;var reversedata;var modelMetric;if(overperforming){switch(metric){case'Log Loss':data=Object.values(reverselogloss['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(logloss['data']).map(function(obj){return Object.values(obj)[0];});data.forEach(function(d){return d.metric=Math.abs(d.metric);});modelMetric=reverselogloss['model'];break;case'Accuracy':data=Object.values(accuracy['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(accuracy['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=accuracy['model'];break;case'Precision':data=Object.values(precision['data']).map(function(obj){return Object.values(obj)[0];});reversedata=Object.values(precision['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=precision['model'];break;default:data=Object.values(reverselogloss['data']).map(function(obj){return Object.values(obj)[0];});modelMetric=reverselogloss['model'];}}else{switch(metric){case'Log Loss':data=Object.values(logloss['data']).map(function(obj){return Object.values(obj)[0];});reversedata=[];modelMetric=logloss['model'];break;case'Accuracy':data=Object.values(accuracy['data']).map(function(obj){return Object.values(obj)[0];});reversedata=[];modelMetric=accuracy['model'];break;case'Precision':data=Object.values(precision['data']).map(function(obj){return Object.values(obj)[0];});reversedata=[];modelMetric=precision['model'];break;default:data=Object.values(logloss['data']).map(function(obj){return Object.values(obj)[0];});reversedata=[];modelMetric=logloss['model'];}}var metricArray=data.map(function(obj){return obj.metric;});var reverseMetricArray=reversedata.map(function(obj){return obj.metric;});var sizeArray=data.map(function(obj){return obj.size;});var max=Math.max.apply(Math,_toConsumableArray(metricArray).concat(_toConsumableArray(reverseMetricArray)));var sizeMax=Math.max.apply(Math,_toConsumableArray(sizeArray));var filteredData=data.filter(function(obj){return obj.size>=sampleSize;}).filter(function(obj){return obj.degree<=numFeatures;}).sort(function(a,b){if(sortBy==='size')return b.size-a.size;if(overperforming)return a.metric-b.metric;return b.metric-a.metric;});if(view==='bar'){filteredData=filteredData.slice(0,10);}return/*#__PURE__*/_jsx(\"div\",{className:\"main-container\",style:{display:'block'},children:view==='bar'?/*#__PURE__*/_jsx(SliceBarChart,{data:filteredData,model:modelMetric,max:max,view:view}):view==='force'?/*#__PURE__*/_jsx(ForceLayout,{data:filteredData,degree:numFeatures,view:view,metric:metric,model:modelMetric}):/*#__PURE__*/_jsx(GraphLayout2,{data:filteredData,degree:numFeatures,metric:metric,model:modelMetric})});};export default Main;","map":{"version":3,"sources":["/Users/davidmunechika/Documents/Code/visual-auditor/src/components/Main/Main.js"],"names":["React","SliceBarChart","logloss","accuracy","precision","reverselogloss","ForceLayout","GraphLayout","GraphLayout2","Main","numFeatures","sampleSize","metric","view","sortBy","overperforming","data","reversedata","modelMetric","Object","values","map","obj","forEach","d","Math","abs","metricArray","reverseMetricArray","sizeArray","size","max","sizeMax","filteredData","filter","degree","sort","a","b","slice","display"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SliceBarChart from './SliceBarChart';\nimport './Main.css';\nimport logloss from '../../data/logloss.json';\nimport accuracy from '../../data/accuracy.json';\nimport precision from '../../data/precision.json';\nimport reverselogloss from '../../data/reverselogloss.json';\nimport ForceLayout from './ForceLayout';\nimport GraphLayout from './GraphLayout';\nimport GraphLayout2 from './GraphLayout2';\n\nconst Main = ({\n  numFeatures,\n  sampleSize,\n  metric,\n  view,\n  sortBy,\n  overperforming,\n}) => {\n  let data;\n  let reversedata;\n  let modelMetric;\n  if (overperforming) {\n    switch (metric) {\n      case 'Log Loss':\n        data = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(logloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        data.forEach((d) => (d.metric = Math.abs(d.metric)));\n        modelMetric = reverselogloss['model'];\n        break;\n      case 'Accuracy':\n        data = Object.values(accuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(accuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = accuracy['model'];\n        break;\n      case 'Precision':\n        data = Object.values(precision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = Object.values(precision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = precision['model'];\n        break;\n      default:\n        data = Object.values(reverselogloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        modelMetric = reverselogloss['model'];\n    }\n  } else {\n    switch (metric) {\n      case 'Log Loss':\n        data = Object.values(logloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = [];\n        modelMetric = logloss['model'];\n        break;\n      case 'Accuracy':\n        data = Object.values(accuracy['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = [];\n        modelMetric = accuracy['model'];\n        break;\n      case 'Precision':\n        data = Object.values(precision['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = [];\n        modelMetric = precision['model'];\n        break;\n      default:\n        data = Object.values(logloss['data']).map(\n          (obj) => Object.values(obj)[0]\n        );\n        reversedata = [];\n        modelMetric = logloss['model'];\n    }\n  }\n  const metricArray = data.map((obj) => obj.metric);\n  const reverseMetricArray = reversedata.map((obj) => obj.metric);\n  const sizeArray = data.map((obj) => obj.size);\n  const max = Math.max(...metricArray, ...reverseMetricArray);\n  const sizeMax = Math.max(...sizeArray);\n  let filteredData = data\n    .filter((obj) => obj.size >= sampleSize)\n    .filter((obj) => obj.degree <= numFeatures)\n    .sort(function (a, b) {\n      if (sortBy === 'size') return b.size - a.size;\n      if (overperforming) return a.metric - b.metric;\n      return b.metric - a.metric;\n    });\n  if (view === 'bar') {\n    filteredData = filteredData.slice(0, 10);\n  }\n  return (\n    <div className='main-container' style={{ display: 'block' }}>\n      {view === 'bar' ? (\n        <SliceBarChart\n          data={filteredData}\n          model={modelMetric}\n          max={max}\n          view={view}\n        />\n      ) : view === 'force' ? (\n        <ForceLayout\n          data={filteredData}\n          degree={numFeatures}\n          view={view}\n          metric={metric}\n          model={modelMetric}\n        />\n      ) : (\n        <GraphLayout2\n          data={filteredData}\n          degree={numFeatures}\n          metric={metric}\n          model={modelMetric}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}","map":{"version":3,"sources":["/Users/davidmunechika/Documents/Code/Research/visual-auditor/node_modules/d3-array/src/cross.js"],"names":["length","array","empty","arrayify","values","Array","from","reducer","reduce","cross","pop","map","lengths","j","index","fill","product","some","push","i"],"mappings":"AAAA,SAASA,MAAT,CAAgBC,KAAhB,EAAuB;AACrB,SAAOA,KAAK,CAACD,MAAN,GAAe,CAAtB;AACD;;AAED,SAASE,KAAT,CAAeF,MAAf,EAAuB;AACrB,SAAO,EAAEA,MAAM,GAAG,CAAX,CAAP;AACD;;AAED,SAASG,QAAT,CAAkBC,MAAlB,EAA0B;AACxB,SAAO,OAAOA,MAAP,KAAkB,QAAlB,IAA8B,YAAYA,MAA1C,GAAmDA,MAAnD,GAA4DC,KAAK,CAACC,IAAN,CAAWF,MAAX,CAAnE;AACD;;AAED,SAASG,OAAT,CAAiBC,MAAjB,EAAyB;AACvB,SAAOJ,MAAM,IAAII,MAAM,CAAC,GAAGJ,MAAJ,CAAvB;AACD;;AAED,eAAe,SAASK,KAAT,CAAe,GAAGL,MAAlB,EAA0B;AACvC,QAAMI,MAAM,GAAG,OAAOJ,MAAM,CAACA,MAAM,CAACJ,MAAP,GAAgB,CAAjB,CAAb,KAAqC,UAArC,IAAmDO,OAAO,CAACH,MAAM,CAACM,GAAP,EAAD,CAAzE;AACAN,EAAAA,MAAM,GAAGA,MAAM,CAACO,GAAP,CAAWR,QAAX,CAAT;AACA,QAAMS,OAAO,GAAGR,MAAM,CAACO,GAAP,CAAWX,MAAX,CAAhB;AACA,QAAMa,CAAC,GAAGT,MAAM,CAACJ,MAAP,GAAgB,CAA1B;AACA,QAAMc,KAAK,GAAG,IAAIT,KAAJ,CAAUQ,CAAC,GAAG,CAAd,EAAiBE,IAAjB,CAAsB,CAAtB,CAAd;AACA,QAAMC,OAAO,GAAG,EAAhB;AACA,MAAIH,CAAC,GAAG,CAAJ,IAASD,OAAO,CAACK,IAAR,CAAaf,KAAb,CAAb,EAAkC,OAAOc,OAAP;;AAClC,SAAO,IAAP,EAAa;AACXA,IAAAA,OAAO,CAACE,IAAR,CAAaJ,KAAK,CAACH,GAAN,CAAU,CAACE,CAAD,EAAIM,CAAJ,KAAUf,MAAM,CAACe,CAAD,CAAN,CAAUN,CAAV,CAApB,CAAb;AACA,QAAIM,CAAC,GAAGN,CAAR;;AACA,WAAO,EAAEC,KAAK,CAACK,CAAD,CAAP,KAAeP,OAAO,CAACO,CAAD,CAA7B,EAAkC;AAChC,UAAIA,CAAC,KAAK,CAAV,EAAa,OAAOX,MAAM,GAAGQ,OAAO,CAACL,GAAR,CAAYH,MAAZ,CAAH,GAAyBQ,OAAtC;AACbF,MAAAA,KAAK,CAACK,CAAC,EAAF,CAAL,GAAa,CAAb;AACD;AACF;AACF","sourcesContent":["function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
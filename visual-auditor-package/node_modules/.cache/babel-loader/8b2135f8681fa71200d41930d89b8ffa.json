{"ast":null,"code":"import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function () {\n      var acc = 0,\n          l = lambda;\n\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n  return randomPoisson;\n})(defaultSource);","map":{"version":3,"sources":["/Users/davidmunechika/Documents/Code/Research/visual-auditor/visual-auditor-package/node_modules/d3-random/src/poisson.js"],"names":["defaultSource","binomial","gamma","sourceRandomPoisson","source","G","B","randomPoisson","lambda","acc","l","n","Math","floor","t","s","log1p","k"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,oBAA1B;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AAEA,eAAe,CAAC,SAASC,mBAAT,CAA6BC,MAA7B,EAAqC;AACnD,MAAIC,CAAC,GAAGH,KAAK,CAACE,MAAN,CAAaA,MAAb,CAAR;AAAA,MACIE,CAAC,GAAGL,QAAQ,CAACG,MAAT,CAAgBA,MAAhB,CADR;;AAGA,WAASG,aAAT,CAAuBC,MAAvB,EAA+B;AAC7B,WAAO,YAAW;AAChB,UAAIC,GAAG,GAAG,CAAV;AAAA,UAAaC,CAAC,GAAGF,MAAjB;;AACA,aAAOE,CAAC,GAAG,EAAX,EAAe;AACb,YAAIC,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAW,QAAQH,CAAnB,CAAR;AAAA,YACII,CAAC,GAAGT,CAAC,CAACM,CAAD,CAAD,EADR;AAEA,YAAIG,CAAC,GAAGJ,CAAR,EAAW,OAAOD,GAAG,GAAGH,CAAC,CAACK,CAAC,GAAG,CAAL,EAAQD,CAAC,GAAGI,CAAZ,CAAD,EAAb;AACXL,QAAAA,GAAG,IAAIE,CAAP;AACAD,QAAAA,CAAC,IAAII,CAAL;AACD;;AACD,WAAK,IAAIC,CAAC,GAAG,CAACH,IAAI,CAACI,KAAL,CAAW,CAACZ,MAAM,EAAlB,CAAT,EAAgCa,CAAC,GAAG,CAAzC,EAA4CF,CAAC,IAAIL,CAAjD,EAAoD,EAAEO,CAAtD,EAAyDF,CAAC,IAAIH,IAAI,CAACI,KAAL,CAAW,CAACZ,MAAM,EAAlB,CAAL;;AACzD,aAAOK,GAAG,GAAGQ,CAAb;AACD,KAXD;AAYD;;AAEDV,EAAAA,aAAa,CAACH,MAAd,GAAuBD,mBAAvB;AAEA,SAAOI,aAAP;AACD,CAtBc,EAsBZP,aAtBY,CAAf","sourcesContent":["import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function() {\n      var acc = 0, l = lambda;\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n\n  return randomPoisson;\n})(defaultSource);\n"]},"metadata":{},"sourceType":"module"}